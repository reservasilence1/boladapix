<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="shortcut icon" href="/rifa/images/logo.png" type="image/x-icon">
  <title>Bolada Pix</title>

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@500;600;700;800&display=swap" rel="stylesheet">

  <style>
    *{box-sizing:border-box;margin:0;padding:0}
    body{
      font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;
      background:#f3f4f6;
      color:#0f172a;
    }

    /* HEADER */
    header{
      background:#fff;
      border-bottom:1px solid #e5e7eb;
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:12px 16px;
      position:sticky;
      top:0;
      z-index:20;
    }
    header img{height:35px}

    /* BOT√ïES TOPO */
    .btnTopo{
      display:inline-flex;
      align-items:center;
      gap:6px;
      border-radius:10px;
      border:2px solid #1d4ed8;
      padding:20px 18px;
      background:#fff;
      font-weight:700;
      font-size:14px;
      cursor:pointer;
    }
    .btnTopo2{
      display:inline-flex;
      align-items:center;
      gap:6px;
      border-radius:999px;
      border:2px solid #1d4ed8;
      padding:12px 18px;
      background:#fff;
      font-weight:700;
      font-size:12px;
      cursor:pointer;
    }

    /* LAYOUT */
    .wrap{
      max-width:960px;
      margin:16px auto 32px;
      padding:0 12px;
      display:flex;
      flex-direction:column;
      gap:16px;
    }

    .card{
      background:#fff;
      border-radius:12px;
      border:1px solid #e5e7eb;
      overflow:hidden;
    }

    .banner{width:100%;display:block}

    /* FAIXA */
    .faixa{
      display:flex;
      justify-content:space-between;
      align-items:center;
      padding:10px 16px;
      background:#f9fafb;
      border-top:1px solid #e5e7eb;
      border-bottom:1px solid #e5e7eb;
      font-size:13px;
    }
    .faixaData{display:flex;gap:6px;font-size:10px;color:#059669;font-weight:600}
    .faixaData span:nth-child(2){color:#111827;font-weight:500}
    .tagUnit{
      background:#111827;
      color:#f9fafb;
      padding:6px 14px;
      border-radius:8px;
      font-weight:800;
    }

    /* COMBOS */
    .secaoPrincipal{padding:16px}
    .tituloCombos{display:flex;gap:8px;margin-bottom:12px}
    .tituloCombos h2{font-size:18px;font-weight:800}

    .combosGrid{
      display:grid;
      grid-template-columns:repeat(2,1fr);
      gap:12px;
      margin-bottom:16px;
    }

    .comboBtn{
      position:relative;
      border-radius:12px;
      padding:14px;
      border:2px solid #cbd5e1;
      background:#fff;
      cursor:pointer;
      display:flex;
      flex-direction:column;
      gap:4px;
    }
    .comboBtn.on{
      border-color:#16a34a;
      background:#f0fdf4;
    }

    .comboMaisVendido{
      position:absolute;
      top:-12px;
      left:12px;
      background:#16a34a;
      color:#fff;
      font-size:11px;
      font-weight:800;
      padding:4px 10px;
      border-radius:999px;
    }

    .comboTitulo{font-size:16px;font-weight:800}
    .comboInfo{font-size:12px;color:#16a34a;font-weight:700}
    .comboOld{font-size:12px;color:#9ca3af;text-decoration:line-through}
    .comboPreco{font-size:18px;font-weight:800}
    .off{
      background:#16a34a;
      color:#fff;
      font-size:11px;
      font-weight:800;
      padding:2px 8px;
      border-radius:999px;
      margin-left:6px;
    }

    /* RASPADINHA */
    .raspa{
      background:#fff;
      border-radius:12px;
      border:1px solid #e5e7eb;
      padding:16px;
    }
    .raspa h2{font-size:18px;font-weight:800;margin-bottom:12px}

    .raspaItem{
      border:2px solid #16a34a;
      border-radius:12px;
      padding:14px;
      display:flex;
      justify-content:space-between;
      align-items:center;
      margin-bottom:10px;
    }
    .raspaBadge{
      background:#16a34a;
      color:#fff;
      font-size:12px;
      font-weight:800;
      padding:4px 12px;
      border-radius:999px;
      margin-bottom:6px;
      display:inline-block;
    }
    .raspaItem button{
      background:#fff;
      border:2px solid #16a34a;
      border-radius:10px;
      font-size:18px;
      font-weight:800;
      padding:8px 16px;
      cursor:pointer;
    }
  </style>
</head>

<body>

<header>
  <img src="/rifa/images/logoboladapix.png" alt="Logo">
  <button id="btnMinhas" class="btnTopo2">Minhas compras</button>
</header>

<div class="wrap">

  <!-- CARD PRINCIPAL -->
  <div class="card">
    <img src="/rifa/images/bannerboladapix.webp" class="banner">

    <div class="faixa">
      <div class="faixaData">
        <span>üçÄ Sorteio:</span>
        <span>02/02/2026 19:00</span>
      </div>
      <span class="tagUnit" id="tagUnit">R$ 19,47</span>
    </div>

    <div class="secaoPrincipal">
      <div class="tituloCombos"><h2>Combos de n√∫meros</h2></div>

      <div class="combosGrid">
        <button class="comboBtn on" data-combo-qtd="33">
          <span class="comboTitulo">33 N√∫meros</span>
          <span class="comboInfo">Recebe +3 raspadinhas</span>
          <span class="comboPreco">R$ 19,47</span>
        </button>

        <button class="comboBtn" data-combo-qtd="66">
          <span class="comboMaisVendido">Mais vendido</span>
          <span class="comboTitulo">66 N√∫meros</span>
          <span class="comboInfo">Recebe +6 raspadinhas</span>
          <span class="comboPreco">R$ 38,94</span>
        </button>

        <button class="comboBtn" data-combo-qtd="100">
          <span class="comboTitulo">100 N√∫meros</span>
          <span class="comboInfo">Recebe +10 raspadinhas</span>
          <span class="comboOld">De R$ 118,00</span>
          <span class="comboPreco">R$ 59,00 <span class="off">50% OFF</span></span>
        </button>

        <button class="comboBtn" data-combo-qtd="200">
          <span class="comboTitulo">200 N√∫meros</span>
          <span class="comboInfo">Recebe +20 raspadinhas</span>
          <span class="comboOld">De R$ 118,00</span>
          <span class="comboPreco">R$ 78,00 <span class="off">34% OFF</span></span>
        </button>
      </div>
    </div>
  </div>

  <!-- RASPADINHA -->
  <div class="raspa">
    <h2>Raspadinha da Sorte</h2>

    <div class="raspaItem">
      <div>
        <span class="raspaBadge">Recebe 1 raspadinha</span>
        <div>A partir de <strong>10 n√∫meros</strong></div>
      </div>
      <button data-add="10">+10</button>
    </div>

    <div class="raspaItem">
      <div>
        <span class="raspaBadge">Recebe 5 raspadinhas</span>
        <div>A partir de <strong>50 n√∫meros</strong></div>
      </div>
      <button data-add="50">+50</button>
    </div>

    <div class="raspaItem">
      <div>
        <span class="raspaBadge">Recebe 10 raspadinhas</span>
        <div>A partir de <strong>100 n√∫meros</strong></div>
      </div>
      <button data-add="100">+100</button>
    </div>
  </div>

  <!-- √ÅREA DO CLIENTE (INALTERADA) -->
  <div class="clienteSec">
    <div class="clienteTitulo">√Årea do cliente</div>
    <button id="btnMinhas2" class="btnTopo">Minhas compras</button>

    <div class="clienteLogos">
      <img src="/rifa/images/logo.png" alt="Fiote de Sorte">
    </div>

    <div class="clienteContainer">
      <div>
        T√≠tulo de participa√ß√£o em promo√ß√µes de sorteios virtuais. Antes de
        contratar, consulte atentamente as condi√ß√µes da campanha,
        regulamento completo e prazos de sorteio.
      </div>

      <div class="clienteLinks">
        <a href="#">Condi√ß√µes gerais</a>
        <a href="#">Regulamento</a>
      </div>

      <div class="clienteVersao">v0.2.34-28t</div>
    </div>
  </div>

</div>

    <script>
/* ================= UTIL ================= */
function brl(v) {
  return "R$ " + Number(v).toFixed(2).replace(".", ",");
}

/* ================= MINHAS COMPRAS ================= */
function temCompras() {
  for (let i = 0; i < localStorage.length; i++) {
    const k = localStorage.key(i);
    if (k && k.startsWith("cotas_numeros_")) return true;
  }
  return false;
}

function abrirMinhasCompras() {
  if (temCompras()) {
    location.href = "sucesso.html";
  } else {
    alert("Voc√™ ainda n√£o possui n√∫meros comprados");
  }
}

document.getElementById("btnMinhas")?.addEventListener("click", abrirMinhasCompras);
document.getElementById("btnMinhas2")?.addEventListener("click", abrirMinhasCompras);

/* ================= CONFIG ================= */
const MIN_QTD = 33;

/* pre√ßos FIXOS dos combos principais (centavos) */
const PRECO_POR_QTD_CENT = {
  33: 1947,
  66: 3894,
  100: 5900,
  200: 7800
};

/* fallback unit√°rio (R$ 0,59) */
const VALOR_UNIT_CENT = 59;

/* ================= ELEMENTOS ================= */
const inp = document.getElementById("inpQtd");
const menos = document.getElementById("menos");
const mais = document.getElementById("mais");

const inpMob = document.getElementById("inpQtdMob");
const menosMob = document.getElementById("menosMob");
const maisMob = document.getElementById("maisMob");

const txtCotas = document.getElementById("txtCotas");
const txtValor = document.getElementById("txtValor");
const txtValorOldEl = document.getElementById("txtValorOld");

const txtCotasMob = document.getElementById("txtCotasMob");
const txtValorMob = document.getElementById("txtValorMob");

const btnComprar = document.getElementById("btnComprar");
const btnComprarMob = document.getElementById("btnComprarMob");

const comboButtons = document.querySelectorAll(".comboBtn");

/* ================= ESTADO ================= */
localStorage.setItem("raspadinhas", "0");

/* ================= C√ÅLCULO ================= */
function totalCentavos(q) {
  if (PRECO_POR_QTD_CENT[q]) return PRECO_POR_QTD_CENT[q];
  return q * VALOR_UNIT_CENT;
}

function sincronizarComboSelecionado(q) {
  comboButtons.forEach(btn => {
    const qtdCombo = parseInt(btn.getAttribute("data-combo-qtd"), 10);
    btn.classList.toggle("on", qtdCombo === q);
  });
}

function atualizarResumo() {
  let q = parseInt(inp.value || "0", 10);
  if (isNaN(q) || q < MIN_QTD) q = MIN_QTD;

  inp.value = q;
  if (inpMob) inpMob.value = q;

  const cent = totalCentavos(q);

  if (txtCotas) txtCotas.textContent = q + " N√∫meros";
  if (txtValor) txtValor.textContent = brl(cent / 100);
  if (txtValorOldEl) txtValorOldEl.style.display = "none";

  if (txtCotasMob) txtCotasMob.textContent = q + " N√∫meros";
  if (txtValorMob) txtValorMob.textContent = brl(cent / 100);

  localStorage.setItem("cotas", String(q));
  localStorage.setItem("valor", String(cent));

  sincronizarComboSelecionado(q);
}

/* ================= INIT ================= */
(function init() {
  const tagUnit = document.getElementById("tagUnit");
  if (tagUnit) tagUnit.textContent = brl(PRECO_POR_QTD_CENT[33] / 100);

  inp.value = MIN_QTD;
  if (inpMob) inpMob.value = MIN_QTD;

  atualizarResumo();
})();

/* ================= STEPPER ================= */
menos?.addEventListener("click", () => {
  inp.value = Math.max(MIN_QTD, parseInt(inp.value) - 1);
  atualizarResumo();
});

mais?.addEventListener("click", () => {
  inp.value = parseInt(inp.value) + 1;
  atualizarResumo();
});

inp?.addEventListener("input", () => {
  inp.value = inp.value.replace(/\D/g, "");
  atualizarResumo();
});

inp?.addEventListener("blur", atualizarResumo);

menosMob?.addEventListener("click", () => {
  inp.value = Math.max(MIN_QTD, parseInt(inp.value) - 1);
  atualizarResumo();
});

maisMob?.addEventListener("click", () => {
  inp.value = parseInt(inp.value) + 1;
  atualizarResumo();
});

inpMob?.addEventListener("input", () => {
  inp.value = inpMob.value.replace(/\D/g, "");
  atualizarResumo();
});

inpMob?.addEventListener("blur", atualizarResumo);

/* ================= COMBOS ================= */
comboButtons.forEach(btn => {
  btn.addEventListener("click", () => {
    const qtd = parseInt(btn.getAttribute("data-combo-qtd"), 10);
    inp.value = qtd;
    atualizarResumo();
  });
});

/* ================= RASPADINHA ================= */
document.querySelectorAll("[data-add]").forEach(btn => {
  btn.addEventListener("click", () => {
    inp.value = parseInt(inp.value) + parseInt(btn.dataset.add);
    atualizarResumo();
  });
});

/* ================= PAGAMENTO ================= */
function irParaPagamento() {
  atualizarResumo();
  const q = Math.max(MIN_QTD, parseInt(inp.value));
  const valorCentavos = totalCentavos(q);
  const params = new URLSearchParams(window.location.search);
  params.set("valor", String(valorCentavos));
  location.href = "https://rifadomaia.vercel.app/pagamento?" + params.toString();
}

btnComprar?.addEventListener("click", irParaPagamento);
btnComprarMob?.addEventListener("click", irParaPagamento);

/* ================= RESTANTE DO SEU JS (INALTERADO) ================= */
const lista = document.getElementById("lista");
const contagem = document.getElementById("contagem");
let pool = [];

function gerarNumero() {
  const seis = Math.random() < 0.5;
  const min = seis ? 100000 : 1000000;
  const max = seis ? 999999 : 9999999;
  return String(Math.floor(Math.random() * (max - min + 1)) + min).padStart(6, "0");
}

function montarPool() {
  pool = [];
  for (let i = 0; i < 36; i++) {
    pool.push({ num: gerarNumero(), status: i % 12 === 0 ? "comp" : "disp", preco: 100000 });
  }
}

function render() {
  if (!lista || !contagem) return;
  const tot = pool.length;
  const dis = pool.filter(x => x.status === "disp").length;
  contagem.textContent = dis + " dispon√≠veis/" + tot + " totais";
}

montarPool();
render();
</script>

  </body>
</html>
